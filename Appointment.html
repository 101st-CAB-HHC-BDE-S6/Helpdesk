<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Schedule Appointment - 101st CAB BDE HHC S-6</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 2rem;
      line-height: 1.6;
    }
    .container {
      max-width: 1000px;
      margin: auto;
    }
    .notice {
      background: #fff5f5;
      border-left: 4px solid #f56565;
      padding: 1rem;
      border-radius: 8px;
      color: #742a2a;
      margin-bottom: 1rem;
    }
    .notice strong {
      display: block;
      margin-bottom: 0.5rem;
      color: #c53030;
    }
    .header {
      background: white;
      padding: 2rem;
      border-radius: 12px 12px 0 0;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      text-align: center;
    }
    .header h1 {
      color: #2d3748;
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    .header p {
      color: #718096;
      font-size: 1rem;
    }
    .main-content {
      background: white;
      padding: 2rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .nav-link {
      display: inline-block;
      color: #667eea;
      text-decoration: none;
      margin-bottom: 1.5rem;
      font-weight: 600;
    }
    .nav-link:hover {
      text-decoration: underline;
    }
    .calendar-container {
      background: #f7fafc;
      padding: 1.5rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
    }
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }
    .calendar-header h2 {
      color: #2d3748;
      font-size: 1.25rem;
    }
    .calendar-nav {
      display: flex;
      gap: 1rem;
    }
    .calendar-nav button {
      padding: 0.5rem 1rem;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 600;
    }
    .calendar-nav button:hover {
      background: #5568d3;
    }
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 0.5rem;
      margin-top: 1rem;
    }
    .calendar-day-header {
      text-align: center;
      font-weight: 600;
      color: #4a5568;
      padding: 0.5rem;
      font-size: 0.9rem;
    }
    .calendar-day {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #e2e8f0;
      border-radius: 4px;
      cursor: pointer;
      background: white;
      transition: all 0.2s;
    }
    .calendar-day:hover {
      background: #edf2f7;
      border-color: #667eea;
    }
    .calendar-day.selected {
      background: #667eea;
      color: white;
      font-weight: 600;
    }
    .calendar-day.disabled {
      background: #f7fafc;
      color: #cbd5e0;
      cursor: not-allowed;
    }
    .calendar-day.disabled:hover {
      background: #f7fafc;
      border-color: #e2e8f0;
    }
    .time-slots {
      background: #f7fafc;
      padding: 1.5rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
    }
    .time-slots h3 {
      color: #2d3748;
      margin-bottom: 1rem;
    }
    .time-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 0.75rem;
    }
    .time-slot {
      padding: 0.75rem;
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 4px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
    }
    .time-slot:hover {
      border-color: #667eea;
      background: #edf2f7;
    }
    .time-slot.selected {
      background: #667eea;
      color: white;
      border-color: #667eea;
      font-weight: 600;
    }
    .form-section {
      background: #f7fafc;
      padding: 1.5rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
    }
    .form-section h3 {
      color: #2d3748;
      margin-bottom: 1rem;
    }
    .form-group {
      margin-bottom: 1rem;
    }
    .form-group label {
      display: block;
      color: #4a5568;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #e2e8f0;
      border-radius: 4px;
      font-family: inherit;
    }
    .form-group textarea {
      resize: vertical;
      min-height: 100px;
    }
    .submit-btn {
      width: 100%;
      padding: 1rem;
      background: #48bb78;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }
    .submit-btn:hover {
      background: #38a169;
    }
    .submit-btn:disabled {
      background: #cbd5e0;
      cursor: not-allowed;
    }
    .hidden {
      display: none;
    }
    .success-message {
      background: #c6f6d5;
      border-left: 4px solid #48bb78;
      padding: 1rem;
      border-radius: 8px;
      color: #22543d;
      margin-bottom: 1rem;
    }
    .footer {
      background: white;
      padding: 1rem 2rem;
      border-radius: 0 0 12px 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      text-align: center;
      color: #718096;
      font-size: 0.8rem;
    }
    .footer-text {
      margin-bottom: 0.5rem;
    }
    .footer-motto {
      color: #667eea;
      font-weight: 600;
      margin-top: 1rem;
    }
    @media (max-width: 768px) {
      body {
        padding: 1rem;
      }
      .header h1 {
        font-size: 1.5rem;
      }
      .calendar-grid {
        gap: 0.25rem;
      }
      .time-grid {
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      }
    }
  </style>
</head>
<body>
<div class="container">
  <div class="notice">
    <strong>Security Notice</strong>
    This system is for authorized use only. Do not submit classified, sensitive, or personally identifiable information through this portal.
  </div>

  <div class="header">
    <h1>Schedule an Appointment</h1>
    <p>Select a date and time for your S-6 support appointment</p>
  </div>

  <div class="main-content">
    <a href="index.html" class="nav-link">← Back to Help Desk</a>

    <div id="successMessage" class="success-message hidden">
      <strong>Appointment Request Submitted!</strong>
      <p>Your appointment request has been submitted. You will receive a confirmation email shortly.</p>
    </div>

    <div class="calendar-container">
      <div class="calendar-header">
        <h2 id="currentMonth">January 2026</h2>
        <div class="calendar-nav">
          <button onclick="previousMonth()">← Previous</button>
          <button onclick="nextMonth()">Next →</button>
        </div>
      </div>
      <div>
        <div class="calendar-grid">
          <div class="calendar-day-header">Sun</div>
          <div class="calendar-day-header">Mon</div>
          <div class="calendar-day-header">Tue</div>
          <div class="calendar-day-header">Wed</div>
          <div class="calendar-day-header">Thu</div>
          <div class="calendar-day-header">Fri</div>
          <div class="calendar-day-header">Sat</div>
        </div>
        <div class="calendar-grid" id="calendarDays"></div>
      </div>
    </div>

    <div id="timeSlotSection" class="time-slots hidden">
      <h3>Available Time Slots</h3>
      <p style="color: #718096; margin-bottom: 1rem;">Select your preferred time:</p>
      <div class="time-grid" id="timeSlots"></div>
    </div>

    <div id="formSection" class="form-section hidden">
      <h3>Your Information</h3>
      <form id="appointmentForm">
        <div class="form-group">
          <label>Name *</label>
          <input type="text" id="name" required>
        </div>
        <div class="form-group">
          <label>Rank *</label>
          <input type="text" id="rank" required>
        </div>
        <div class="form-group">
          <label>Unit *</label>
          <input type="text" id="unit" required>
        </div>
        <div class="form-group">
          <label>Email *</label>
          <input type="email" id="email" required>
        </div>
        <div class="form-group">
          <label>Phone Number *</label>
          <input type="tel" id="phone" required>
        </div>
        <div class="form-group">
          <label>Reason for Appointment *</label>
          <select id="reason" required>
            <option value="">Select a reason</option>
            <option value="Hardware Issue">Hardware Issue</option>
            <option value="Software Issue">Software Issue</option>
            <option value="Account/Password Reset">Account/Password Reset</option>
            <option value="CAC/PKI Issue">CAC/PKI Issue</option>
            <option value="Training">Training</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label>Brief Description *</label>
          <textarea id="description" required></textarea>
        </div>
        <button type="submit" class="submit-btn">Submit Appointment Request</button>
      </form>
    </div>
  </div>

  <div class="footer">
    <div class="footer-text">Maintained by 101st CAB HHC BDE S-6 | Last Updated: January 2026</div>
    <div class="footer-motto">Have an Air Assault day.</div>
  </div>
</div>

<script>
let currentDate = new Date();
let selectedDate = null;
let selectedTime = null;

const availableTimes = [
  '09:30 - 10:00',
  '10:00 - 10:30',
  '10:30 - 11:00',
  '11:00 - 11:30',
  '13:00 - 13:30',
  '13:30 - 14:00',
  '14:00 - 14:30',
  '14:30 - 15:00',
  '15:00 - 15:30'
];

function renderCalendar() {
  const year = currentDate.getFullYear();
  const month = currentDate.getMonth();
  
  const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
    'July', 'August', 'September', 'October', 'November', 'December'];
  
  document.getElementById('currentMonth').textContent = `${monthNames[month]} ${year}`;
  
  const firstDay = new Date(year, month, 1).getDay();
  const daysInMonth = new Date(year, month + 1, 0).getDate();
  const today = new Date();
  today.setHours(0, 0, 0, 0);
  
  const calendarDays = document.getElementById('calendarDays');
  calendarDays.innerHTML = '';
  
  for (let i = 0; i < firstDay; i++) {
    const emptyDay = document.createElement('div');
    calendarDays.appendChild(emptyDay);
  }
  
  for (let day = 1; day <= daysInMonth; day++) {
    const dayElement = document.createElement('div');
    dayElement.className = 'calendar-day';
    dayElement.textContent = day;
    
    const dayDate = new Date(year, month, day);
    dayDate.setHours(0, 0, 0, 0);
    const dayOfWeek = dayDate.getDay();
    
    if (dayDate < today || dayOfWeek === 0 || dayOfWeek === 6) {
      dayElement.classList.add('disabled');
    } else {
      dayElement.onclick = () => selectDate(year, month, day);
    }
    
    calendarDays.appendChild(dayElement);
  }
}

function selectDate(year, month, day) {
  selectedDate = new Date(year, month, day);
  
  document.querySelectorAll('.calendar-day').forEach(el => {
    el.classList.remove('selected');
  });
  event.target.classList.add('selected');
  
  showTimeSlots();
}

function showTimeSlots() {
  const timeSlotsSection = document.getElementById('timeSlotSection');
  const timeSlotsGrid = document.getElementById('timeSlots');
  
  timeSlotsSection.classList.remove('hidden');
  timeSlotsGrid.innerHTML = '';
  
  availableTimes.forEach(time => {
    const timeSlot = document.createElement('div');
    timeSlot.className = 'time-slot';
    timeSlot.textContent = time;
    timeSlot.onclick = () => selectTime(time, timeSlot);
    timeSlotsGrid.appendChild(timeSlot);
  });
  
  timeSlotsSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

function selectTime(time, element) {
  selectedTime = time;
  
  document.querySelectorAll('.time-slot').forEach(el => {
    el.classList.remove('selected');
  });
  element.classList.add('selected');
  
  document.getElementById('formSection').classList.remove('hidden');
  document.getElementById('formSection').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

function previousMonth() {
  currentDate.setMonth(currentDate.getMonth() - 1);
  renderCalendar();
}

function nextMonth() {
  currentDate.setMonth(currentDate.getMonth() + 1);
  renderCalendar();
}

document.getElementById('appointmentForm').addEventListener('submit', function(e) {
  e.preventDefault();
  
  if (!selectedDate || !selectedTime) {
    alert('Please select a date and time for your appointment.');
    return;
  }
  
  const formData = {
    name: document.getElementById('name').value,
    rank: document.getElementById('rank').value,
    unit: document.getElementById('unit').value,
    email: document.getElementById('email').value,
    phone: document.getElementById('phone').value,
    reason: document.getElementById('reason').value,
    description: document.getElementById('description').value,
    date: selectedDate.toLocaleDateString(),
    time: selectedTime,
    timestamp: new Date().toISOString()
  };
  
  const mailtoLink = `mailto:101cabsybdes6helpdesk@army.mil?subject=Appointment Request - ${formData.name}&body=` +
    `Appointment Request Details:%0D%0A%0D%0A` +
    `Name: ${formData.name}%0D%0A` +
    `Rank: ${formData.rank}%0D%0A` +
    `Unit: ${formData.unit}%0D%0A` +
    `Email: ${formData.email}%0D%0A` +
    `Phone: ${formData.phone}%0D%0A` +
    `Date: ${formData.date}%0D%0A` +
    `Time: ${formData.time}%0D%0A` +
    `Reason: ${formData.reason}%0D%0A` +
    `Description: ${formData.description}`;
  
  let appointments = JSON.parse(localStorage.getItem('appointments') || '[]');
  appointments.push(formData);
  localStorage.setItem('appointments', JSON.stringify(appointments));
  
  window.location.href = mailtoLink;
  
  document.getElementById('successMessage').classList.remove('hidden');
  document.getElementById('appointmentForm').reset();
  document.getElementById('formSection').classList.add('hidden');
  document.getElementById('timeSlotSection').classList.add('hidden');
  
  selectedDate = null;
  selectedTime = null;
  
  document.querySelectorAll('.calendar-day, .time-slot').forEach(el => {
    el.classList.remove('selected');
  });
  
  window.scrollTo({ top: 0, behavior: 'smooth' });
});

renderCalendar();
</script>
</body>
</html>
